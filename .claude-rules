# Claude 工作规范

> ⚠️ **重要：在回答用户任何问题或执行任何操作前，必须先阅读此文件！**

---

## 项目信息

**项目名称**: vue-auto-i18n
**项目类型**: Vue 3 自动化国际化工具
**技术栈**: Vue 3 + TypeScript + Vite + AST

---

## 核心目标

**做一个自动化的国际化工具，实现零侵入性的多语言支持。**

---

## 必须遵守的原则

### 1. 操作前先读规范 🔴
每次开始任何工作前，必须先阅读本文件。不要跳过这一步！

### 2. 专注核心功能 ⭐
- **注意力要放在国际化工具本身**
- 不要被测试项目的业务功能分散注意力
- 不要花时间优化测试项目的 UI 或业务逻辑

### 3. 零侵入性 🛡️
**插件必须在不改变源码的情况下，在编译期间注入语言函数**
- 源文件保持不变
- 所有转换在构建时、内存中完成
- 这是项目的核心价值

---

## 项目功能

### 核心功能（优先处理）

1. **中文提取**
   - 从 Vue/JS/TS 文件中提取中文文本
   - 使用 AST 技术精确定位

2. **AI 翻译**
   - 使用 AI 翻译引擎转换成多语言
   - 生成结构化的语言包文件

3. **Vite 插件（最重要）**
   - 构建时自动转换中文为 `$t()` 调用
   - 不修改源文件
   - 根据语言包注入国际化函数

---

## 测试重点

### ✅ 应该关注的

**插件和工具的功能测试**：
- 中文提取是否准确
- 翻译功能是否正常
- 构建时转换是否正确
- 语言包格式是否正确
- 缓存机制是否有效

### ❌ 不应该关注的

**测试项目的业务功能**：
- 测试项目的 UI 是否好看
- 测试项目的业务逻辑
- 测试项目的组件交互
- 其他非国际化相关的内容

---

## 工作检查清单

每次回答问题或执行操作前，确认：

- [ ] 我已阅读 .claude-rules 文件
- [ ] 我理解当前任务是否属于核心功能
- [ ] 我没有被测试项目的业务功能分散注意力
- [ ] 我遵守了零侵入性原则
- [ ] 我知道应该测试什么（插件功能）

---

## 包结构参考

```
packages/
├── core/          # 核心库（提取器 + 翻译器）
├── vite-plugin/   # Vite 插件（核心重点！）
├── cli/           # 命令行工具
└── replacer/      # 代码替换工具
```

---

## 快速提醒

**用户问你问题时，先想：**
1. 这是否与国际化工具相关？
2. 这是否属于核心功能？
3. 我是否应该关注测试项目的业务逻辑？

**如果是，就处理。如果不是，提醒用户注意焦点。**

---

**最后重复一遍：专注国际化工具，不要被测试项目分散注意力！**
